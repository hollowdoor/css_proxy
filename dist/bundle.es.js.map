{"version":3,"file":"bundle.es.js","sources":["../src/index.js"],"sourcesContent":["import decamelize from 'decamelize';\nimport rgbHex from 'rgb-hex';\n\n//all properties are available\n//using getComputedStyle(element)\n//document.documentElement gets :root pseudo stuff\nexport default function cssProxy(\n    element = document.documentElement,\n    props = {},\n    pseudo\n){\n    if(typeof props !== 'object'){\n        props = {};\n    }\n\n    let allstyles = getComputedStyle(element, pseudo);\n\n    function getName(name){\n        //Computed styles contain all the properties.\n        if(allstyles[name] === void 0){\n            //supporting camelcase properties\n            return '--'+decamelize(name, '-');\n        }\n        return decamelize(name, '-');\n    }\n\n    const css = Object.assign(Object.create(null), {\n        setProperty(name, value, priority){\n            element.style.setProperty(name, value, priority);\n        },\n        getProperty(name){\n            return allstyles.getPropertyValue(name);\n        },\n        cssGet(name){\n            if(nameOnElement(element, name)){\n                return element.style[name];\n            }\n            let v = this.getProperty(getName(name));\n            return !v || !v.length ? undefined : v.trim();\n        },\n        cssSet(name, value, priority){\n            this.setProperty(getName(name), convertValue(value), priority);\n        },\n        remove(name){\n            element.style.removeProperty(name);\n        },\n        [Symbol.toPrimitive](hint){\n            return '[object CSSProxy]';\n        },\n        setAll(...propObjects){\n            propObjects.forEach(props=>{\n                Object.keys(props).forEach(key=>{\n                    this.cssSet(key, props[key]);\n                });\n            });\n            return this;\n        }\n    });\n\n    const proxy = new Proxy(css, {\n        get(target, name){\n            //Return methods\n            if(typeof target[name] === 'function')\n                return target[name].bind(target);\n            //Return properties\n            return target.cssGet(name);\n        },\n        set(target, name, value){\n            target.cssSet(name, value);\n            return true;\n        }\n    });\n\n    Object.keys(props).forEach(key=>{\n        proxy[key] = props[key];\n    });\n\n    return proxy;\n}\n\nfunction nameOnElement(e, name){\n    return !/[-]{2}/.test(name) && e.style[name] !== undefined;\n}\n\n/*\nSetting variables, from variables works different.\ndocument.documentElement.style.setProperty(\"--my-bg-colour\", \"var(--my-fg-colour)\");*/\nfunction convertValue(value){\n    if(/[-]{2}/.test(value + '')){\n        return `var(--${decamelize(value + '')})`;\n    }else {\n        return value;\n    }\n}\n"],"names":["let","const","this"],"mappings":"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"}